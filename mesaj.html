<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.147.0/three.min.js" type="text/javascript"></script>

<div class="ima"></div>
<div class="image"></div>
<canvas id="c"></canvas>

<style>
@keyframes zoom {
	 from {
		 transform: scale(1);
	}
	 to {
		 transform: scale(1.1);
		 filter: brightness(150%);
	}
} 
.ima {
    background: #000000;
    position: absolute;
    z-index: 1;
    height: 100%;
    width: 100%;
    opacity: 0.7;
} 
 .image {
	 position: absolute;
	 top: 0;
	 left: 0;
	 width: 100%;
	 height: 100%;
	 background: black url('https://picsum.photos//1920/1080?random');
	 background-size: cover;
	 transform: scale(1.1);
	 background-blend-mode: hard-light;
}
 .image::before, .image::after {
	 position: absolute;
	 top: 0;
	 left: 0px;
	 width: 100%;
	 height: 100%;
	 background: blue url('https://picsum.photos//1920/1080?random');
	 background-size: cover;
	 content: '';
	 mix-blend-mode: difference;
	 background-blend-mode: hard-light;
}
 .image::before {
	 animation-name: zoom;
	 animation-duration: 4s;
	 animation-iteration-count: infinite;
	 animation-direction: alternate;
}
 .image::after {
	 animation-name: zoom;
	 animation-duration: 4s;
	 animation-iteration-count: infinite;
	 animation-direction: alternate;
	 background-blend-mode: hard-light;
	 animation-delay: 3s;
}
 html, body {
	 width: 100%;
	 height: 100%;
}
 body {
	 margin: 0;
	 position: relative;
     overflow: hidden;   
}
 canvas {
	 position: absolute;
     transform: scale(2);
     transform-origin: left;
     z-index: 10;
     mix-blend-mode: lighten;   
}
 
</style>

<script>
window.onload = () => {
  const quotes = [
    {
      author: "",
      quote: "Let's say together: 'MA MAN!'"
    },     
    {
      author: "",
      quote: "I felt like I traveled all over the world with the sounds."
    },    
    {
      author: "",
      quote: "I am more interested in the ratios between them than in the subjects."
    },     
    {
      author: "",
      quote: "We can't have sounds/notes, they don't really exist."
    },    
    {
      author: "",
      quote: "Maybe the source of all problems is this greed to have everything."
    },     
    {
      author: "",
      quote: "All the social media algorithms are causing great corruption for humanity."
    },      
    {
      author: "",
      quote: "Social media brings a great corruption, we can't beat it with their tools."
    },     
    {
      author: "",
      quote: "We are losing a lot of content with meaning in social networks."
    },     
    {
      author: "",
      quote: "It's like everything is possible in this infinity, it's an interesting experience."
    }, 
    {
      author: "",
      quote: "People who play together for hours should be able to do collective work. I believe we can do this..."
    }, 
    {
      author: "",
      quote: "People who play together for hours should be able to do collective work. I believe we can do this..."
    },     
    {
      author: "",
      quote: "People who play together for hours should be able to do collective work. I believe we can do this..."
    }, 
    {
      author: "",
      quote: "All forms of violence are wrong. Protecting our existence with violence will eat us up."
    }, 
    {
      author: "",
      quote: "All forms of violence are wrong. Protecting our existence with violence will eat us up."
    }, 
    {
      author: "",
      quote: "All forms of violence are wrong. Protecting our existence with violence will eat us up."
    },     
    {
      author: "",
      quote: "All forms of violence are wrong. Protecting our existence with violence will eat us up."
    },      
    {
      author: "",
      quote: "You can get sleepy listening to synchronization-heavy music because of delta waves."
    },    
    {
      author: "",
      quote: "I believe that we have nothing but the ratios between sounds."
    },
    {
      author: "",
      quote: "...what lies beyond, ...never know for sure, but there will always be ratios in which we find music."
    },
    {
      author: "",
      quote: "...music is a model that explains everything and should prepare us for death..."
    },
    {
      author: "",
      quote: "After the jams in which I traveled through different universes..."
    },
    {
      author: "",
      quote: "...not being able to reach the people who participated in it makes me think like that..."
    },
    {
      author: "",
      quote: "I witness that new ones emerge by combining with melodies that are not in my head."
    },
    {
      author: "",
      quote: "We have many friends who play this way and think this way. I can't reach most of them..."
    },
    {
      author: "",
      quote: "Why do people do the same thing over and over again?"
    },
    {
      author: "",
      quote: "My solution is this simple: Organized jams... We should at least have a room prepared for that."
    },
    {
      author: "",
      quote: "Would like to think that these vibrations will always exist in some corner (dimension) of universe. "
    },
    {
      author: "",
      quote: "At some point you will feel that it's the ratios that matter, not the musical notes..."
    },   
    {
      author: "",
      quote: "I wonder what motivated you to use NINJAM for a long time?"
    },
    {
      author: "",
      quote: "Synchronized sounds there is the possibility of reaching beyond our minds."
    },
    {
      author: "",
      quote: "The more sounds combinations, the more synchronization. The more sounds, the more possibilities."
    },
    {
      author: "",
      quote: "Every jam is precious to me, I didn't want it to get lost."
    },    
    {
      author: "",
      quote: "If the mind synchronization achieved at that moment was noteworthy, I had to categorize it."
    },
    {
      author: "",
      quote: "I believe that the community that plays in NINJAM is an interesting experiment."
    },
    {
      author: "",
      quote: "Maybe NINJAM is a community that carries hope for the world."
    },
    {
      author: "",
      quote: "My sincere thanks to everyone who made this possible."
    },
    {
      author: "",
      quote: "If you are a believer in sounds (which I am)."
    },    
    {
      author: "",
      quote: "Feel that all jams are available at the same time (all possibilities exist at the same time)."
    },
    {
      author: "",
      quote: "We may be separating each other by religion, language, race or many other considerations..."
    },
    {
      author: "",
      quote: "...while we flow in harmony in the jams where our hearts beat together in the same synchronization."
    },
    {
      author: "",
      quote: "If this is a dream, please don't wake me up..."
    },    
    {
      author: "",
      quote: "I will slowly disappear with the sound waves..."
    },    
    {
      author: "",
      quote: "Combinations created by sound vibrations is beyond them..."
    },
    {
      author: "",
      quote: "Protects us from being trapped in our own minds."
    },
    {
      author: "",
      quote: "Against all the deceptions of the modern world, this is the only tool we have left."
    },
    {
      author: "",
      quote: "Nobody listens anymore!"
    },
    {
      author: "",
      quote: "By constantly exposing us to 'information', they hinder our integration."
    },
    {
      author: "",
      quote: "Music is just a background sound for them... They don't really listen!"
    },
    {
      author: "",
      quote: "In this way we can achieve a transcendent wholeness."
    },
    {
      author: "",
      quote: "This is what we see without using our eyes."
    },
    {
      author: "",
      quote: "We open a door using sounds."
    },
    {
      author: "",
      quote: "Listeners can get involved in combinations only when they understand that they are not just listeners."
    },
    {
      author: "",
      quote: "The name of this dance to be performed collectively is the dance of existence."
    },
    {
      author: "",
      quote: "Just like the tribes do! Just like atoms do!"
    },
    {
      author: "",
      quote: "That's the purpose of music. This is how it prepares us for existence and extinction."
    },
    {
      author: "",
      quote: "With vibrations, we can open up to all possibilities in this way in accordance with our building blocks."
    },
    {
      author: "",
      quote: "You're going to die before you really hear it, it's so sad!"
    }  
  ],
    c = document.getElementById("c"),
    mc = document.createElement("canvas"),
    $ = c.getContext("2d"),
    m$ = mc.getContext("2d"),
    random = Math.random,
    maxLife = 40,
    minLife = 10,
    maxSpeed = 1,
    lerpFactor = 0.1,
    N = 10000,                  //  <------ NUMBER OF PARTICLES
    N_FIELDS = 7,
    lineHeight = 100,
    PN = N * N_FIELDS,
    quoteFontSize = 45,
    authorFontSize = 25,
    textResolution = 2,        //  <------ TEXT RESOLUTION
    Ps = new Float32Array(PN);

  let w = window.innerWidth,
    h = window.innerHeight,
    pArrayPointer = 0,
    textPadding = w / 9,
    words,
    finalText,
    textHeight,
    x,
    y,
    i,
    line,
    targetPixels;

  function randomInRange(min, max) {
    return random() * (max - min) + min;
  }

  function setUpCanvases() {
    mc.width = c.width = w;
    mc.height = c.height = h;
    m$.fillStyle = $.fillStyle = "#fff";
    m$.font = quoteFontSize + "px Serif";
    m$.textBaseline = "bottom";
    m$.textAlign = "left";
  }

  function formatQuote(quote) {
    m$.clearRect(0, 0, w, h);

    words = quote.quote.split(" ");
    line = "";
    finalText = [];

    for (i = 0; i < words.length; i++) {
      if (m$.measureText(line + words[i] + " ").width >= w - textPadding * 6) {
        finalText.push(line);
        line = "";
      }
      line += words[i] + " ";
    }
    finalText.push(line);

    textHeight = lineHeight * finalText.length;
    x = textPadding;
    y = h / 1.6 - textHeight / 1.6;

    for (i = 0; i < finalText.length; i++) {
      m$.fillText(finalText[i], x, y + lineHeight * i);
    }
    m$.save();
    m$.font = authorFontSize + "px Serif";
    m$.fillText(quote.author, x, y + lineHeight * i);
    m$.restore();
  }

  function resetParticles() {
    pArrayPointer = 0;
    for (i = 0; i < N; i++) {
      pArrayPointer = pArrayPointer + N_FIELDS;
      Ps[pArrayPointer + 4] = 0;
      Ps[pArrayPointer + 5] = 0;
      Ps[pArrayPointer + 6] = randomInRange(minLife, maxLife);
    }
    targetPixels = m$.getImageData(0, 0, w, h).data;
    pArrayPointer = ~~(random() * N);
    for (i = 0; i < targetPixels.length; i += textResolution) {
      if (targetPixels[i * 4] > 0) {
        Ps[pArrayPointer * N_FIELDS + 4] = i % w;
        Ps[pArrayPointer * N_FIELDS + 5] = ~~(i / w);
        pArrayPointer = (pArrayPointer + 1) % N;
      }
    }
  }

  setUpCanvases();

  formatQuote(quotes[~~(random() * quotes.length)]);

  for (i = 0; i < N; i++) {
    pArrayPointer = pArrayPointer + N_FIELDS;
    Ps[pArrayPointer] = random() * w;
    Ps[pArrayPointer + 1] = random() * h;
    Ps[pArrayPointer + 2] = randomInRange(-maxSpeed, maxSpeed);
    Ps[pArrayPointer + 3] = randomInRange(-maxSpeed, maxSpeed);
    Ps[pArrayPointer + 4] = 0;
    Ps[pArrayPointer + 5] = 0;
    Ps[pArrayPointer + 6] = randomInRange(minLife, maxLife);
  }

  resetParticles();

  function animateParticles() {
    for (i = 0; i < PN; i += N_FIELDS) {
      if (Ps[i + 6] > 0 || (!Ps[i + 4] && !Ps[i + 5])) {
        x = Ps[i] = Ps[i] + Ps[i + 2];
        y = Ps[i + 1] = Ps[i + 1] + Ps[i + 3];
        if (x > w || x < 0) {
          Ps[i + 2] = -Ps[i + 2];
        }
        if (y > h || y < 0) {
          Ps[i + 3] = -Ps[i + 3];
        }
        Ps[i + 6]--;
      } else {
        x = Ps[i] += (Ps[i + 4] - Ps[i]) * lerpFactor;
        y = Ps[i + 1] += (Ps[i + 5] - Ps[i + 1]) * lerpFactor;
      }
      $.fillRect(x, y, 1, 1);
    }
    $.fill();
  }

  (function loop() {
    $.clearRect(0, 0, w, h);
    animateParticles();
    requestAnimationFrame(loop);
  })();

  window.addEventListener("click", function() {
    formatQuote(quotes[~~(random() * quotes.length)]);
    resetParticles();
  });

  window.addEventListener("resize", function() {
    w = window.innerWidth;
    h = window.innerHeight;
    setUpCanvases();
  });
};

setInterval(function(){
document.getElementById("c").click();
}, 19000);
  

  

  
  
  
  
let scene,
	camera,
	renderer,
	cloudParticles = [],
	rainParticles = [],
	flash,
	rain,
	rainGeo,
	rainCount = 3000;
function init() {
	scene = new THREE.Scene();
	camera = new THREE.PerspectiveCamera(
		60,
		window.innerWidth / window.innerHeight,
		1,
		1000
	);
	camera.position.z = 1;
	camera.rotation.x = 1.16;
	camera.rotation.y = -0.12;
	camera.rotation.z = 0.27;

	ambient = new THREE.AmbientLight(0x555555);
	scene.add(ambient);

	directionalLight = new THREE.DirectionalLight(0xffeedd);
	directionalLight.position.set(0, 0, 1);
	scene.add(directionalLight);

	flash = new THREE.PointLight(0x062d89, 30, 500, 0.7);
	flash.position.set(200, 300, 100);
	scene.add(flash);

	renderer = new THREE.WebGLRenderer();

	scene.fog = new THREE.FogExp2(0x11111f, 0.002);
	renderer.setClearColor(scene.fog.color);

	renderer.setSize(window.innerWidth, window.innerHeight);
	document.body.appendChild(renderer.domElement);

	let positions = [];
	let sizes = [];
	rainGeo = new THREE.BufferGeometry();
	for (let i = 0; i < rainCount; i++) {
		rainDrop = new THREE.Vector3(
			Math.random() * 400 - 200,
			Math.random() * 500 - 250,
			Math.random() * 400 - 200
		);
		positions.push(Math.random() * 400 - 200);
		positions.push(Math.random() * 500 - 250);
		positions.push(Math.random() * 400 - 200);
		sizes.push(30);
	}
	rainGeo.setAttribute(
		"position",
		new THREE.BufferAttribute(new Float32Array(positions), 3)
	);
	rainGeo.setAttribute(
		"size",
		new THREE.BufferAttribute(new Float32Array(sizes), 1)
	);
	rainMaterial = new THREE.PointsMaterial({
		color: 0xaaaaaa,
		size: 0.1,
		transparent: true
	});
	rain = new THREE.Points(rainGeo, rainMaterial);
	scene.add(rain);

	let loader = new THREE.TextureLoader();
	loader.load(
		"https://static.vecteezy.com/system/resources/previews/010/884/548/original/dense-fluffy-puffs-of-white-smoke-and-fog-on-transparent-background-abstract-smoke-clouds-movement-blurred-out-of-focus-smoking-blows-from-machine-dry-ice-fly-fluttering-in-air-effect-texture-png.png",
		function (texture) {
			cloudGeo = new THREE.PlaneBufferGeometry(200, 200);
			cloudMaterial = new THREE.MeshLambertMaterial({
				map: texture,
				transparent: true
			});

			for (let p = 0; p < 25; p++) {
				let cloud = new THREE.Mesh(cloudGeo, cloudMaterial);
				cloud.position.set(
					Math.random() * 800 - 400,
					500,
					Math.random() * 500 - 450
				);
				cloud.rotation.x = 1.16;
				cloud.rotation.y = -0.12;
				cloud.rotation.z = Math.random() * 360;
				cloud.material.opacity = 0.6;
				cloudParticles.push(cloud);
				scene.add(cloud);
			}
			animate();
			window.addEventListener("resize", onWindowResize);
		}
	);
}
function animate() {
	cloudParticles.forEach((p) => {
		p.rotation.z -= 0.002;
	});
	rainGeo.attributes.size.array.forEach((r, i) => {
		r += 0.3;
	});
	const time = Date.now() * 0.005;

	rainGeo.verticesNeedUpdate = true;

	rain.position.z -= 0.222;
	if (rain.position.z < -200) {
		rain.position.z = 0;
	}

	if (Math.random() > 0.93 || flash.power > 100) {
		if (flash.power < 100)
			flash.position.set(Math.random() * 400, 300 + Math.random() * 200, 100);
		flash.power = 50 + Math.random() * 500;
	}
	renderer.render(scene, camera);
	requestAnimationFrame(animate);
}

init();

function onWindowResize() {
	camera.aspect = window.innerWidth / window.innerHeight;
	camera.updateProjectionMatrix();

	renderer.setSize(window.innerWidth, window.innerHeight);
}

</script>  
